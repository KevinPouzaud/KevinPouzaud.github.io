<!DOCTYPE html>
<html>
<head>
	<title>Exercice 2</title>
	<meta charset="utf-8"/>
    <link rel="stylesheet" href="../leaflet/leaflet.css" />
</head>
<body>
    <h1>Exercice 2</h1>
	<div id="positionGet">
        <h2>Triangle des bermudes :</h2>
        <div id="map" style="height: 500px;width: 1000px;"></div>
    </div>
    <div id="newMap">
        <h2>Map avec stamen :</h2>
        <div id="map2" style="height: 500px;width: 1000px;"></div>
    </div>
</body>
<script src="jquery-3.6.0.js"></script>
<script src="../leaflet/leaflet.js"></script>
<script type="text/javascript" src="https://stamen-maps.a.ssl.fastly.net/js/tile.stamen.js?v1.3.0"></script>
<script>
    function maPosition(position) {        
        var map = L.map('map').setView([position.coords.latitude, position.coords.longitude], position.coords.accuracy);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(map);
        L.marker([18.466, -66.118]).addTo(map).bindPopup('A pretty CSS3 popup.<br> Easily customizable.').openPopup();
        var polygon = L.polygon([[18.466, -66.118],[32.321, -64.757],[25.774, -80.19]], {color: 'red'}).addTo(map);

        var layer = new L.StamenTileLayer("toner");
        var map = new L.Map("map2", {
            center: new L.LatLng(position.coords.latitude, position.coords.longitude),
            zoom: position.coords.accuracy
        });
        map.addLayer(layer);
    }
    if(navigator.geolocation) navigator.geolocation.getCurrentPosition(maPosition);

</script>
</html>